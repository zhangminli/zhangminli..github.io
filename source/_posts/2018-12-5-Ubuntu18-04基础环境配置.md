---
title: Ubuntu18.04基础环境配置
date: 2020-12-05 14:04:02
tags: OVS
categories: Linux
---

### 1. 设置静态ip与DNS

   - 修改/etc/network/interfaces设置静态ip

  ```shell
# gedit /etc/network/interfaces
  ```

<!-- more -->

​       修改如下：

 ```shell
 # interfaces(5) file used by ifup(8) and ifdown(8)
 auto lo
 iface lo inet loopback
 auto enp5s0             # 网卡的名称要根据实际设置，有可能是enp1s0
 iface enp5s0 inet static
 address 172.16.62.237     # 根据实际需要设置231-239
 netmask 255.255.255.0
 gateway 172.16.62.254
 ```
​        重启网络服务：

```shell
 # service networking restart
```

  - 修改/etc/systemd/resolved.conf设置NDS


```shell
# gedit /etc/systemd/resolved.conf
```

​       修改如下：

```shell
[Resolve]
DNS=114.114.114.114
```

​        重启DNS服务：

```shell
# service systemd-resolved restart
```

  - 3 设置hosts与hostname，并重启

```shell
# gedit /etc/hosts

# gedit /etc/hostname

# reboot
```



#### 2. 更换国内apt源，并更新软件

```shell
# cp /etc/apt/sources.list /etc/apt/sources.list.backup

# vi /etc/apt/sources.list
```

​      阿里云源 https://developer.aliyun.com/mirror/ubuntu?spm=a2c6h.13651102.0.0.3e221b11nkzu7o

```shell
deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse

deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse

deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse

deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse

deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse

```

```shell
# apt-get update
# apt-get upgrade
```

 

#### 3、安装基础软件

-  vi不能正常使用上下左右方向键，卸载后重新安装vi/vim

```shell
# apt-get remove vim-common

# apt-get install -y vim
```



- 安装ip、ifconfig、ping、traceroute

```shell
# apt-get install -y iproute2 net-tools iputils-ping traceroute
```

- 安装pip2、pip3，并更换国内源**

```shell
# apt-get install -y python-pip python3-pip

# mkdir ~/.pip

# vim ~/.pip/pip.conf

[global]  index-url = https://pypi.tuna.tsinghua.edu.cn/simple  extra-index-url =  https://mirrors.163.com/pypi/simple/     timeout = 60  

# ln -s /usr/bin/pip2 /usr/bin/pip2.7

# ln -s /usr/bin/pip3 /usr/bin/pip3.6

# rm -f /usr/bin/pip

# ln -s /usr/bin/pip3 /usr/bin/pip

# rm -f /usr/bin/python

# ln -s /usr/bin/python3 /usr/bin/python
```

- 安装文件上传下载工具lrzsz、同步工具rsync

```shell
# apt-get install -y lrzsz rsync
```

- 安装ssh-server，并配置

```shell
# apt-get install -y openssh-server
```

检查ssh-server是否启动：

```shell
# ps -aux | grep sshd
```

若未出现sshd结果，则执行：

```shell
# service ssh start
```

- 安装发包工具、流量统计工具netperf、iperf、iftop、vnstat

```shell
# apt-get install -y netperf iperf iftop vnstat
```

- 安装docker

```shell
# apt-get install -y docker.io
```

 